{"ast":null,"code":"import _asyncToGenerator from \"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/sungminro/Documents/GitHub/dinner-planner-react/src/Components/Detail/RecipeDetail.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport Ingredients from \"../Common/Ingredients\";\nimport { Link } from \"react-router-dom\";\nimport { DataContext } from \"../../App\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar RecipeDetail = function RecipeDetail(props) {\n  _s();\n\n  var recipeData = useContext(DataContext);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      recipe = _useState2[0],\n      setRecipe = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ingredients = _useState4[0],\n      setIngredients = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      inSaved = _useState6[0],\n      setInSaved = _useState6[1];\n\n  var _useState7 = useState(props.match.params.id),\n      _useState8 = _slicedToArray(_useState7, 2),\n      recipeId = _useState8[0],\n      setRecipeId = _useState8[1];\n\n  function recipeLookUp() {\n    return _recipeLookUp.apply(this, arguments);\n  }\n\n  function _recipeLookUp() {\n    _recipeLookUp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, recipe, instructions, ingredients, res, json, _res, _json, key;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ingredients = [];\n\n              if (!props.match.path.includes(\"food\")) {\n                _context.next = 14;\n                break;\n              }\n\n              url = \"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\" + recipeId;\n              _context.next = 5;\n              return fetch(url);\n\n            case 5:\n              res = _context.sent;\n              _context.next = 8;\n              return res.json();\n\n            case 8:\n              json = _context.sent;\n              recipe = json.meals[0];\n              instructions = recipe.strInstructions.trim();\n              recipe[\"strInstructions\"] = instructions.split(\".\");\n              _context.next = 25;\n              break;\n\n            case 14:\n              if (!props.match.path.includes(\"cocktail\")) {\n                _context.next = 25;\n                break;\n              }\n\n              url = \"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\" + recipeId;\n              _context.next = 18;\n              return fetch(url);\n\n            case 18:\n              _res = _context.sent;\n              _context.next = 21;\n              return _res.json();\n\n            case 21:\n              _json = _context.sent;\n              recipe = _json.drinks[0];\n              instructions = recipe.strInstructions.trim();\n              recipe[\"strInstructions\"] = instructions.split(\".\");\n\n            case 25:\n              recipe[\"ingredients\"] = [];\n              recipe[\"measures\"] = [];\n\n              for (key in recipe) {\n                if (key.includes(\"strIngredient\") && recipe[key]) {\n                  ingredients.push(recipe[key]);\n                }\n\n                if (key.includes(\"strMeasure\") && recipe[key]) {\n                  recipe[\"measures\"].push(recipe[key]);\n                }\n              }\n\n              console.log(recipe);\n              setRecipe(recipe);\n              setIngredients(ingredients);\n\n            case 31:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _recipeLookUp.apply(this, arguments);\n  }\n\n  var setInstructions = [];\n\n  if (recipe.strInstructions) {\n    setInstructions = recipe.strInstructions.map(function (instruction, index) {\n      if (instruction) {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"detail-instructions\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pacifico-font\",\n            children: [index + 1, \". \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, _this), \" \", instruction, \".\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, _this);\n      }\n    });\n  }\n\n  var displayTags = function displayTags() {\n    var tags;\n\n    if (recipe.strTags) {\n      var tagsArr = recipe.strTags.split(\",\");\n      tags = tagsArr.map(function (tag, index) {\n        if (tag) {\n          if (props.match.path.includes(\"food\")) {\n            return /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-tags tags-food\",\n              children: tag\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 32\n            }, _this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-tags tags-drink\",\n              children: tag\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 32\n            }, _this);\n          }\n        }\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-tags-container\",\n      children: [props.match.path.includes(\"food\") ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-tags tags-food\",\n          children: recipe.strCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-tags tags-food\",\n          children: recipe.strArea\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-tags tags-drink\",\n          children: recipe.strCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-tags tags-drink\",\n          children: recipe.strGlass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true), tags]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, _this);\n  };\n\n  function loopThruSaved(type, recipeArr, id) {\n    var exists = false;\n    recipeArr.forEach(function (recipe, index) {\n      if (type === \"FOOD\") {\n        if (recipe.idMeal === id) {\n          exists = true;\n        } else {\n          return;\n        }\n      } else {\n        if (recipe.idDrink === id) {\n          exists = true;\n        } else {\n          return;\n        }\n      }\n    });\n    setInSaved(exists);\n  }\n\n  var addToSaved = function addToSaved() {\n    if (props.match.path.includes(\"food\")) {\n      recipeData.addToSaved(\"FOOD\", recipeId);\n    } else if (props.match.path.includes(\"cocktail\")) {\n      recipeData.addToSaved(\"DRINK\", recipeId);\n    }\n  };\n\n  var deleteFromSaved = function deleteFromSaved() {\n    if (props.match.path.includes(\"food\")) {\n      recipeData.deleteFromSaved(\"FOOD\", recipeId);\n    } else {\n      recipeData.deleteFromSaved(\"DRINK\", recipeId);\n    }\n\n    setInSaved(false);\n  };\n\n  useEffect(function () {\n    recipeLookUp();\n\n    if (props.match.path.includes(\"food\") && recipeData.savedFoods) {\n      loopThruSaved(\"FOOD\", recipeData.savedFoods, recipeId);\n    } else if (props.match.path.includes(\"cocktail\")) {\n      loopThruSaved(\"DIRNK\", recipeData.savedDrinks, recipeId);\n    }\n  }, []);\n  useEffect(function () {\n    if (props.match.path.includes(\"food\") && recipeData.savedFoods) {\n      loopThruSaved(\"FOOD\", recipeData.savedFoods, recipeId);\n    } else if (props.match.path.includes(\"cocktail\")) {\n      loopThruSaved(\"DIRNK\", recipeData.savedDrinks, recipeId);\n    }\n  }, [recipeData.savedFoods, recipeData.savedDrinks]);\n  var arrowL = \"< \";\n  var arrowR = \" >\";\n  console.log(recipeId);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-width recipe-detail-page\",\n    children: [props.match.path.includes(\"food\") ? /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/foods\",\n      className: \"float-left\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\" \", arrowL, \" BACK TO FOODS\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/cocktails\",\n      className: \"float-left\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\" \", arrowL, \" Back to Drinks\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }, _this), props.match.path.includes(\"food\") && !inSaved ? /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"float-right\",\n      onClick: function onClick() {\n        return recipeData.addToSaved(\"FOOD\", recipeId);\n      },\n      children: [\"SAVE THIS RECIPE \", arrowR]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), props.match.path.includes(\"cocktail\") && !inSaved ? /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"float-right\",\n      onClick: function onClick() {\n        return recipeData.addToSaved(\"DRINK\", recipeId);\n      },\n      children: [\"SAVE THIS RECIPE \", arrowR]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), inSaved && /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"float-right remove\",\n      onClick: function onClick() {\n        return deleteFromSaved();\n      },\n      children: \"REMOVE FROM SAVED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-title-container\",\n      children: [props.match.path.includes(\"food\") ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: recipe.strMeal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }, _this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: recipe.strDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }, _this), displayTags()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-detail-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-image\",\n        children: props.match.path.includes(\"food\") ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: recipe.strMealThumb,\n          alt: recipe.strMeal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, _this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: recipe.strDrinkThumb,\n          alt: recipe.strDrink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ingredients-container\",\n        children: /*#__PURE__*/_jsxDEV(Ingredients, {\n          detail: true,\n          allMeasures: recipe.measures,\n          allIngredients: ingredients\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-instructions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Instructions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, _this), setInstructions]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(RecipeDetail, \"22rKrchbr63mpPz6apNdrJqlBTU=\");\n\n_c = RecipeDetail;\nexport default RecipeDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeDetail\");","map":{"version":3,"sources":["/Users/sungminro/Documents/GitHub/dinner-planner-react/src/Components/Detail/RecipeDetail.js"],"names":["React","useEffect","useState","useContext","Ingredients","Link","DataContext","RecipeDetail","props","recipeData","recipe","setRecipe","ingredients","setIngredients","inSaved","setInSaved","match","params","id","recipeId","setRecipeId","recipeLookUp","path","includes","url","fetch","res","json","meals","instructions","strInstructions","trim","split","drinks","key","push","console","log","setInstructions","map","instruction","index","displayTags","tags","strTags","tagsArr","tag","strCategory","strArea","strGlass","loopThruSaved","type","recipeArr","exists","forEach","idMeal","idDrink","addToSaved","deleteFromSaved","savedFoods","savedDrinks","arrowL","arrowR","strMeal","strDrink","strMealThumb","strDrinkThumb","measures"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport Ingredients from \"../Common/Ingredients\";\nimport { Link } from \"react-router-dom\";\nimport { DataContext } from \"../../App\";\nimport \"./style.css\";\n\nconst RecipeDetail = (props) => {\n    const recipeData = useContext(DataContext);\n\n    const [recipe, setRecipe] = useState({});\n    const [ingredients, setIngredients] = useState([]);\n    const [inSaved, setInSaved] = useState(false);\n    const [recipeId, setRecipeId] = useState(props.match.params.id);\n\n    async function recipeLookUp() {\n        let url;\n        let recipe;\n        let instructions;\n        let ingredients = [];\n        if (props.match.path.includes(\"food\")) {\n            url = \"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\" + recipeId;\n            let res = await fetch(url);\n            let json = await res.json();\n            recipe = json.meals[0];\n            instructions = recipe.strInstructions.trim();\n            recipe[\"strInstructions\"] = instructions.split(\".\");\n        } else if (props.match.path.includes(\"cocktail\")) {\n            url =\n                \"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\" + recipeId;\n            let res = await fetch(url);\n            let json = await res.json();\n            recipe = json.drinks[0];\n            instructions = recipe.strInstructions.trim();\n            recipe[\"strInstructions\"] = instructions.split(\".\");\n        }\n        recipe[\"ingredients\"] = [];\n        recipe[\"measures\"] = [];\n        for (let key in recipe) {\n            if (key.includes(\"strIngredient\") && recipe[key]) {\n                ingredients.push(recipe[key]);\n            }\n            if (key.includes(\"strMeasure\") && recipe[key]) {\n                recipe[\"measures\"].push(recipe[key]);\n            }\n        }\n\n        console.log(recipe);\n        setRecipe(recipe);\n        setIngredients(ingredients);\n    }\n\n    let setInstructions = [];\n    if (recipe.strInstructions) {\n        setInstructions = recipe.strInstructions.map((instruction, index) => {\n            if (instruction) {\n                return (\n                    <li key={index} className=\"detail-instructions\">\n                        <span className=\"pacifico-font\">{index + 1}. </span> {instruction}.\n                    </li>\n                );\n            }\n        });\n    }\n\n    const displayTags = () => {\n        let tags;\n        if (recipe.strTags) {\n            let tagsArr = recipe.strTags.split(\",\");\n            tags = tagsArr.map((tag, index) => {\n                if (tag) {\n                    if (props.match.path.includes(\"food\")) {\n                        return <p className=\"card-tags tags-food\">{tag}</p>;\n                    } else {\n                        return <p className=\"card-tags tags-drink\">{tag}</p>;\n                    }\n                }\n            });\n        }\n        return (\n            <div className=\"recipe-tags-container\">\n                {props.match.path.includes(\"food\") ? (\n                    <>\n                        <p className=\"card-tags tags-food\">{recipe.strCategory}</p>\n                        <p className=\"card-tags tags-food\">{recipe.strArea}</p>\n                    </>\n                ) : (\n                    <>\n                        <p className=\"card-tags tags-drink\">{recipe.strCategory}</p>\n                        <p className=\"card-tags tags-drink\">{recipe.strGlass}</p>\n                    </>\n                )}\n                {tags}\n            </div>\n        );\n    };\n\n    function loopThruSaved(type, recipeArr, id) {\n        let exists = false;\n        recipeArr.forEach((recipe, index) => {\n            if (type === \"FOOD\") {\n                if (recipe.idMeal === id) {\n                    exists = true;\n                } else {\n                    return;\n                }\n            } else {\n                if (recipe.idDrink === id) {\n                    exists = true;\n                } else {\n                    return;\n                }\n            }\n        });\n        setInSaved(exists);\n    }\n\n    const addToSaved = () => {\n        if (props.match.path.includes(\"food\")) {\n            recipeData.addToSaved(\"FOOD\", recipeId);\n        } else if (props.match.path.includes(\"cocktail\")) {\n            recipeData.addToSaved(\"DRINK\", recipeId);\n        }\n    };\n\n    const deleteFromSaved = () => {\n        if (props.match.path.includes(\"food\")) {\n            recipeData.deleteFromSaved(\"FOOD\", recipeId);\n        } else {\n            recipeData.deleteFromSaved(\"DRINK\", recipeId);\n        }\n        setInSaved(false);\n    };\n\n    useEffect(() => {\n        recipeLookUp();\n        if (props.match.path.includes(\"food\") && recipeData.savedFoods) {\n            loopThruSaved(\"FOOD\", recipeData.savedFoods, recipeId);\n        } else if (props.match.path.includes(\"cocktail\")) {\n            loopThruSaved(\"DIRNK\", recipeData.savedDrinks, recipeId);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (props.match.path.includes(\"food\") && recipeData.savedFoods) {\n            loopThruSaved(\"FOOD\", recipeData.savedFoods, recipeId);\n        } else if (props.match.path.includes(\"cocktail\")) {\n            loopThruSaved(\"DIRNK\", recipeData.savedDrinks, recipeId);\n        }\n    }, [recipeData.savedFoods, recipeData.savedDrinks]);\n\n    const arrowL = \"< \";\n    const arrowR = \" >\";\n    console.log(recipeId);\n\n    return (\n        <div className=\"max-width recipe-detail-page\">\n            {props.match.path.includes(\"food\") ? (\n                <Link to=\"/foods\" className=\"float-left\">\n                    <h3> {arrowL} BACK TO FOODS</h3>\n                </Link>\n            ) : (\n                <Link to=\"/cocktails\" className=\"float-left\">\n                    <h3> {arrowL} Back to Drinks</h3>\n                </Link>\n            )}\n\n            {props.match.path.includes(\"food\") && !inSaved ? (\n                <h3\n                    className=\"float-right\"\n                    onClick={() => recipeData.addToSaved(\"FOOD\", recipeId)}\n                >\n                    SAVE THIS RECIPE {arrowR}\n                </h3>\n            ) : (\n                <></>\n            )}\n            {props.match.path.includes(\"cocktail\") && !inSaved ? (\n                <h3\n                    className=\"float-right\"\n                    onClick={() => recipeData.addToSaved(\"DRINK\", recipeId)}\n                >\n                    SAVE THIS RECIPE {arrowR}\n                </h3>\n            ) : (\n                <></>\n            )}\n\n            {inSaved && (\n                <h3 className=\"float-right remove\" onClick={() => deleteFromSaved()}>\n                    REMOVE FROM SAVED\n                </h3>\n            )}\n\n            <div className=\"recipe-title-container\">\n                {props.match.path.includes(\"food\") ? (\n                    <h1>{recipe.strMeal}</h1>\n                ) : (\n                    <h1>{recipe.strDrink}</h1>\n                )}\n                {displayTags()}\n            </div>\n            <div className=\"recipe-detail-container\">\n                <div className=\"recipe-image\">\n                    {props.match.path.includes(\"food\") ? (\n                        <img src={recipe.strMealThumb} alt={recipe.strMeal} />\n                    ) : (\n                        <img src={recipe.strDrinkThumb} alt={recipe.strDrink} />\n                    )}\n                </div>\n                <div className=\"ingredients-container\">\n                    <Ingredients\n                        detail={true}\n                        allMeasures={recipe.measures}\n                        allIngredients={ingredients}\n                    />\n                </div>\n            </div>\n            <div className=\"recipe-instructions\">\n                <h1>Instructions</h1>\n                {setInstructions}\n            </div>\n        </div>\n    );\n};\n\nexport default RecipeDetail;\n"]},"metadata":{},"sourceType":"module"}