{"ast":null,"code":"import _toConsumableArray from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect,createContext,useReducer}from\"react\";import{Route,Redirect}from\"react-router-dom\";import FoodPage from\"./Components/Foods/FoodPage\";import DrinkPage from\"./Components/Drinks/DrinkPage\";import FoodDetail from\"./Components/Detail/FoodDetail\";import DrinkDetail from\"./Components/Detail/DrinkDetail\";import SavedPage from\"./Components/Saved/SavedPage\";import Home from\"./Components/Home\";import Alphabets from\"./alphabets\";import\"./styles.css\";import Footer from\"./Components/Home/Footer.js\";import Navigation from\"./Components/Navigation\";import recipeReducer from\"./Reducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DataContext=/*#__PURE__*/createContext();var foodIdUrl=\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\";var drinkIdUrl=\"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\";var initState={foodUrl:\"https://www.themealdb.com/api/json/v1/1/search.php?s=\",foodSearch:\" \",drinkUrl:\"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\",drinkSearch:\" \",tempsavedFoods:[],tempsavedDrinks:[],needInput:false};export default function App(){var _useReducer=useReducer(recipeReducer,initState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),foodResult=_useState2[0],setFoodResult=_useState2[1];// initial search for foods\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),drinkResult=_useState4[0],setDrinkResult=_useState4[1];// initial search for drinks\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),savedFoods=_useState6[0],setSavedFoods=_useState6[1];// saved foods\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),savedDrinks=_useState8[0],setSavedDrinks=_useState8[1];// saved drinks\nvar _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),categoryLists=_useState10[0],setCategoryLists=_useState10[1];var _useState11=useState({food:true,drink:true}),_useState12=_slicedToArray(_useState11,2),isFound=_useState12[0],setIsFound=_useState12[1];var foodUrl=state.foodUrl+state.foodSearch;var drinkUrl=state.drinkUrl+state.drinkSearch;// SETTING CATEGORY LISTS\nvar Categories={foodCategories:[],foodAreas:[],drinkCategories:[],drinkAlcoholic:[],alphabets:Alphabets};function setCategories(){return _setCategories.apply(this,arguments);}function _setCategories(){_setCategories=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var filtersUrls,_loop,i;return _regeneratorRuntime.wrap(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:filtersUrls=[\"https://www.themealdb.com/api/json/v1/1/list.php?c=list\",// food category\n\"https://www.themealdb.com/api/json/v1/1/list.php?a=list\",// food area\n\"https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list\",// cocktail category\n\"https://www.thecocktaildb.com/api/json/v1/1/list.php?a=list\"// cocktail alcopholic\n];_loop=/*#__PURE__*/_regeneratorRuntime.mark(function _loop(i){var url,res,json,categories,_categories;return _regeneratorRuntime.wrap(function _loop$(_context){while(1){switch(_context.prev=_context.next){case 0:url=filtersUrls[i];_context.next=3;return fetch(url);case 3:res=_context.sent;_context.next=6;return res.json();case 6:json=_context.sent;if(i===0||i===1){categories=json.meals;categories.map(function(category,index){for(var key in category){console.log(category);if(i===0){if(key.includes(\"strCategory\")){Categories.foodCategories.push(category[key]);}}else if(i===1){if(key.includes(\"strArea\")){Categories.foodAreas.push(category[key]);}}}});}else if(i===2||i===3){_categories=json.drinks;_categories.map(function(category,index){for(var key in category){if(i===2){if(key.includes(\"strCategory\")){Categories.drinkCategories.push(category[key]);}}else if(i===3){if(key.includes(\"strAlcoholic\")){Categories.drinkAlcoholic.push(category[key]);}}}});}case 8:case\"end\":return _context.stop();}}},_loop);});i=0;case 3:if(!(i<filtersUrls.length)){_context2.next=8;break;}return _context2.delegateYield(_loop(i),\"t0\",5);case 5:i++;_context2.next=3;break;case 8:setCategoryLists(Categories);case 9:case\"end\":return _context2.stop();}}},_callee);}));return _setCategories.apply(this,arguments);}var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),width=_useState14[0],setWindowWidth=_useState14[1];useEffect(function(){updateDimensions();window.addEventListener(\"resize\",updateDimensions);return function(){return window.removeEventListener(\"resize\",updateDimensions);};},[]);var updateDimensions=function updateDimensions(){var width=window.innerWidth;setWindowWidth(width);// console.log(width);\n};function foodDrinkApiCall(_x,_x2,_x3){return _foodDrinkApiCall.apply(this,arguments);}// FUNCTION THAT SETS savedFoods or savedDrinks\nfunction _foodDrinkApiCall(){_foodDrinkApiCall=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(type,url,arr){var res,json,recipeArr,filteredArr;return _regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(url);case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:json=_context3.sent;console.log(\"saved foods are- \",arr);if(type===\"FOOD\"){recipeArr=json.meals;}else if(type===\"DRINK\"){recipeArr=json.drinks;}filteredArr=[];if(recipeArr===null){if(type===\"FOOD\"){recipeArr=json.meals;setIsFound(_objectSpread(_objectSpread({},isFound),{},{food:false}));}else if(type===\"DRINK\"){setIsFound(_objectSpread(_objectSpread({},isFound),{},{drink:false}));}}else{filteredArr=recipeArr.map(function(recipe,index){recipe[\"existsInSaved\"]=false;if(arr.length>0){arr.forEach(function(savedRecipe,index){if(type===\"FOOD\"){if(savedRecipe.idMeal===recipe.idMeal){recipe[\"existsInSaved\"]=true;}}else if(type===\"DRINK\"){if(savedRecipe.idDrink===recipe.idDrink){recipe[\"existsInSaved\"]=true;}}});}recipe[\"ingredients\"]=[];recipe[\"measures\"]=[];for(var key in recipe){if(key.includes(\"strIngredient\")&&recipe[key]){recipe[\"ingredients\"].push(recipe[key]);}if(key.includes(\"strMeasure\")&&recipe[key]){recipe[\"measures\"].push(recipe[key]);}}if(type===\"FOOD\"){return{id:recipe.idMeal,name:recipe.strMeal,category:recipe.strCategory,area:recipe.strArea,img:recipe.strMealThumb,tags:recipe.strTags,instructions:recipe.strInstructions,ingredients:recipe.ingredients,measures:recipe.measures,existsInSaved:recipe.existsInSaved};}else if(type===\"DRINK\"){return{id:recipe.idDrink,name:recipe.strDrink,category:recipe.strCategory,glass:recipe.strGlass,img:recipe.strDrinkThumb,tags:recipe.strTags,instructions:recipe.strInstructions,ingredients:recipe.ingredients,measures:recipe.measures,existsInSaved:recipe.existsInSaved};}return recipe;});if(type===\"FOOD\"){setFoodResult(filteredArr);setIsFound(_objectSpread(_objectSpread({},isFound),{},{food:true}));}else if(type===\"DRINK\"){setDrinkResult(filteredArr);setIsFound(_objectSpread(_objectSpread({},isFound),{},{drink:true}));}}case 10:case\"end\":return _context3.stop();}}},_callee2);}));return _foodDrinkApiCall.apply(this,arguments);}function saveRecipe(_x4,_x5,_x6){return _saveRecipe.apply(this,arguments);}// function loopThruSaved(type, recipeArr, id) {\n//   let exists = false;\n//   recipeArr.forEach((recipe, index) => {\n//     if (type === \"FOOD\") {\n//       if (recipe.idMeal === id) {\n//         console.log(\"this food already exists in savedFoods\");\n//         exists = true;\n//       }\n//     } else if (type === \"DRINK\") {\n//       if (recipe.idDrink === id) {\n//         console.log(\"this drink already exists in savedDrinks\");\n//         exists = true;\n//       }\n//     }\n//   });\n//   return exists;\n// }\nfunction _saveRecipe(){_saveRecipe=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(type,url,id){var res,json,recipe,_recipe;return _regeneratorRuntime.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(url+id);case 2:res=_context4.sent;_context4.next=5;return res.json();case 5:json=_context4.sent;if(type===\"FOOD\"){recipe=json.meals[0];console.log(\"saved food is\",recipe.strMeal);setSavedFoods([].concat(_toConsumableArray(savedFoods),[recipe]));}else if(type===\"DRINK\"){_recipe=json.drinks[0];console.log(\"saved food is\",_recipe.strDrink);setSavedDrinks([].concat(_toConsumableArray(savedDrinks),[_recipe]));}case 7:case\"end\":return _context4.stop();}}},_callee3);}));return _saveRecipe.apply(this,arguments);}var addToSaved=function addToSaved(type,id){if(type===\"FOOD\"){saveRecipe(\"FOOD\",foodIdUrl,id);}else if(type===\"DRINK\"){saveRecipe(\"DRINK\",drinkIdUrl,id);}};// DELETE FUNCTION FOODS / DRINKS\nvar deleteFromSaved=function deleteFromSaved(type,id){if(type===\"FOOD\"){console.log(\"deleting from savedFoods\",id);var newSavedFoods=savedFoods.filter(function(d,i){return d.idMeal!==id;});setSavedFoods(newSavedFoods);}else if(type===\"DRINK\"){console.log(\"deleting from savedDrinks\",id);var newSavedDrinks=savedDrinks.filter(function(d,i){return d.idDrink!==id;});setSavedDrinks(newSavedDrinks);}};useEffect(function(){setCategories();foodDrinkApiCall(\"FOOD\",foodUrl,savedFoods);foodDrinkApiCall(\"DRINK\",drinkUrl,savedDrinks);},[]);useEffect(function(){foodDrinkApiCall(\"FOOD\",foodUrl,savedFoods);},[state.foodSearch]);useEffect(function(){foodDrinkApiCall(\"DRINK\",drinkUrl,savedDrinks);},[state.drinkSearch]);useEffect(function(){foodDrinkApiCall(\"FOOD\",foodUrl,savedFoods);},[savedFoods]);useEffect(function(){foodDrinkApiCall(\"DRINK\",drinkUrl,savedDrinks);},[savedDrinks]);var recipeData={width:width,state:state,categoryLists:categoryLists,foodResult:foodResult,drinkResult:drinkResult,isFound:isFound,addToSaved:addToSaved,deleteFromSaved:deleteFromSaved,savedFoods:savedFoods,savedDrinks:savedDrinks,dispatch:dispatch};return/*#__PURE__*/_jsx(DataContext.Provider,{value:recipeData,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navigation\",children:/*#__PURE__*/_jsx(Navigation,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"spacer\"}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/foods\",component:FoodPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/foods/:food\",component:FoodDetail}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cocktails\",component:DrinkPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cocktails/:cocktail\",component:DrinkDetail}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/savedRecipes\",component:SavedPage}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]}),/*#__PURE__*/_jsx(Footer,{})]})});}","map":{"version":3,"sources":["/Users/sungminro/Documents/GitHub/dinner-planner-react/src/App.js"],"names":["React","useState","useEffect","createContext","useReducer","Route","Redirect","FoodPage","DrinkPage","FoodDetail","DrinkDetail","SavedPage","Home","Alphabets","Footer","Navigation","recipeReducer","DataContext","foodIdUrl","drinkIdUrl","initState","foodUrl","foodSearch","drinkUrl","drinkSearch","tempsavedFoods","tempsavedDrinks","needInput","App","state","dispatch","foodResult","setFoodResult","drinkResult","setDrinkResult","savedFoods","setSavedFoods","savedDrinks","setSavedDrinks","categoryLists","setCategoryLists","food","drink","isFound","setIsFound","Categories","foodCategories","foodAreas","drinkCategories","drinkAlcoholic","alphabets","setCategories","filtersUrls","i","url","fetch","res","json","categories","meals","map","category","index","key","console","log","includes","push","drinks","length","width","setWindowWidth","updateDimensions","window","addEventListener","removeEventListener","innerWidth","foodDrinkApiCall","type","arr","recipeArr","filteredArr","recipe","forEach","savedRecipe","idMeal","idDrink","id","name","strMeal","strCategory","area","strArea","img","strMealThumb","tags","strTags","instructions","strInstructions","ingredients","measures","existsInSaved","strDrink","glass","strGlass","strDrinkThumb","saveRecipe","addToSaved","deleteFromSaved","newSavedFoods","filter","d","newSavedDrinks","recipeData"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createContext, useReducer } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport FoodPage from \"./Components/Foods/FoodPage\";\nimport DrinkPage from \"./Components/Drinks/DrinkPage\";\nimport FoodDetail from \"./Components/Detail/FoodDetail\";\nimport DrinkDetail from \"./Components/Detail/DrinkDetail\";\nimport SavedPage from \"./Components/Saved/SavedPage\";\nimport Home from \"./Components/Home\";\nimport Alphabets from \"./alphabets\";\nimport \"./styles.css\";\nimport Footer from \"./Components/Home/Footer.js\";\nimport Navigation from \"./Components/Navigation\";\nimport recipeReducer from \"./Reducer\";\n\nexport const DataContext = createContext();\nconst foodIdUrl = \"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\";\nconst drinkIdUrl = \"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\";\n\nconst initState = {\n  foodUrl: \"https://www.themealdb.com/api/json/v1/1/search.php?s=\",\n  foodSearch: \" \",\n  drinkUrl: \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\",\n  drinkSearch: \" \",\n  tempsavedFoods: [],\n  tempsavedDrinks: [],\n  needInput: false\n};\n\nexport default function App() {\n  const [state, dispatch] = useReducer(recipeReducer, initState);\n  const [foodResult, setFoodResult] = useState([]); // initial search for foods\n  const [drinkResult, setDrinkResult] = useState([]); // initial search for drinks\n\n  const [savedFoods, setSavedFoods] = useState([]); // saved foods\n  const [savedDrinks, setSavedDrinks] = useState([]); // saved drinks\n\n  const [categoryLists, setCategoryLists] = useState({});\n\n  const [isFound, setIsFound] = useState({\n    food: true,\n    drink: true\n  });\n\n  let foodUrl = state.foodUrl + state.foodSearch;\n  let drinkUrl = state.drinkUrl + state.drinkSearch;\n\n  // SETTING CATEGORY LISTS\n  let Categories = {\n    foodCategories: [],\n    foodAreas: [],\n    drinkCategories: [],\n    drinkAlcoholic: [],\n    alphabets: Alphabets\n  };\n\n  async function setCategories() {\n    const filtersUrls = [\n      \"https://www.themealdb.com/api/json/v1/1/list.php?c=list\", // food category\n      \"https://www.themealdb.com/api/json/v1/1/list.php?a=list\", // food area\n      \"https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list\", // cocktail category\n      \"https://www.thecocktaildb.com/api/json/v1/1/list.php?a=list\" // cocktail alcopholic\n    ];\n\n    for (let i = 0; i < filtersUrls.length; i++) {\n      let url = filtersUrls[i];\n      let res = await fetch(url);\n      let json = await res.json();\n      if (i === 0 || i === 1) {\n        let categories = json.meals;\n        categories.map((category, index) => {\n          for (let key in category) {\n            console.log(category);\n            if (i === 0) {\n              if (key.includes(\"strCategory\")) {\n                Categories.foodCategories.push(category[key]);\n              }\n            } else if (i === 1) {\n              if (key.includes(\"strArea\")) {\n                Categories.foodAreas.push(category[key]);\n              }\n            }\n          }\n        });\n      } else if (i === 2 || i === 3) {\n        let categories = json.drinks;\n        categories.map((category, index) => {\n          for (let key in category) {\n            if (i === 2) {\n              if (key.includes(\"strCategory\")) {\n                Categories.drinkCategories.push(category[key]);\n              }\n            } else if (i === 3) {\n              if (key.includes(\"strAlcoholic\")) {\n                Categories.drinkAlcoholic.push(category[key]);\n              }\n            }\n          }\n        });\n      }\n    }\n    setCategoryLists(Categories);\n  }\n\n  const [width, setWindowWidth] = useState(0);\n  useEffect(() => {\n    updateDimensions();\n\n    window.addEventListener(\"resize\", updateDimensions);\n    return () => window.removeEventListener(\"resize\", updateDimensions);\n  }, []);\n\n  const updateDimensions = () => {\n    const width = window.innerWidth;\n    setWindowWidth(width);\n    // console.log(width);\n  };\n\n  async function foodDrinkApiCall(type, url, arr) {\n    let res = await fetch(url);\n    let json = await res.json();\n    let recipeArr;\n    console.log(\"saved foods are- \", arr);\n    if (type === \"FOOD\") {\n      recipeArr = json.meals;\n    } else if (type === \"DRINK\") {\n      recipeArr = json.drinks;\n    }\n    let filteredArr = [];\n    if (recipeArr === null) {\n      if (type === \"FOOD\") {\n        recipeArr = json.meals;\n        setIsFound({\n          ...isFound,\n          food: false\n        });\n      } else if (type === \"DRINK\") {\n        setIsFound({\n          ...isFound,\n          drink: false\n        });\n      }\n    } else {\n      filteredArr = recipeArr.map((recipe, index) => {\n        recipe[\"existsInSaved\"] = false;\n        if (arr.length > 0) {\n          arr.forEach((savedRecipe, index) => {\n            if (type === \"FOOD\") {\n              if (savedRecipe.idMeal === recipe.idMeal) {\n                recipe[\"existsInSaved\"] = true;\n              }\n            } else if (type === \"DRINK\") {\n              if (savedRecipe.idDrink === recipe.idDrink) {\n                recipe[\"existsInSaved\"] = true;\n              }\n            }\n          });\n        }\n        recipe[\"ingredients\"] = [];\n        recipe[\"measures\"] = [];\n        for (let key in recipe) {\n          if (key.includes(\"strIngredient\") && recipe[key]) {\n            recipe[\"ingredients\"].push(recipe[key]);\n          }\n          if (key.includes(\"strMeasure\") && recipe[key]) {\n            recipe[\"measures\"].push(recipe[key]);\n          }\n        }\n        if (type === \"FOOD\") {\n          return {\n            id: recipe.idMeal,\n            name: recipe.strMeal,\n            category: recipe.strCategory,\n            area: recipe.strArea,\n            img: recipe.strMealThumb,\n            tags: recipe.strTags,\n            instructions: recipe.strInstructions,\n            ingredients: recipe.ingredients,\n            measures: recipe.measures,\n            existsInSaved: recipe.existsInSaved\n          };\n        } else if (type === \"DRINK\") {\n          return {\n            id: recipe.idDrink,\n            name: recipe.strDrink,\n            category: recipe.strCategory,\n            glass: recipe.strGlass,\n            img: recipe.strDrinkThumb,\n            tags: recipe.strTags,\n            instructions: recipe.strInstructions,\n            ingredients: recipe.ingredients,\n            measures: recipe.measures,\n            existsInSaved: recipe.existsInSaved\n          };\n        }\n        return recipe;\n      });\n      if (type === \"FOOD\") {\n        setFoodResult(filteredArr);\n        setIsFound({\n          ...isFound,\n          food: true\n        });\n      } else if (type === \"DRINK\") {\n        setDrinkResult(filteredArr);\n        setIsFound({\n          ...isFound,\n          drink: true\n        });\n      }\n    }\n  }\n\n  // FUNCTION THAT SETS savedFoods or savedDrinks\n  async function saveRecipe(type, url, id) {\n    let res = await fetch(url + id);\n    let json = await res.json();\n    if (type === \"FOOD\") {\n      let recipe = json.meals[0];\n      console.log(\"saved food is\", recipe.strMeal);\n      setSavedFoods([...savedFoods, recipe]);\n    } else if (type === \"DRINK\") {\n      let recipe = json.drinks[0];\n      console.log(\"saved food is\", recipe.strDrink);\n      setSavedDrinks([...savedDrinks, recipe]);\n    }\n  }\n\n  // function loopThruSaved(type, recipeArr, id) {\n  //   let exists = false;\n  //   recipeArr.forEach((recipe, index) => {\n  //     if (type === \"FOOD\") {\n  //       if (recipe.idMeal === id) {\n  //         console.log(\"this food already exists in savedFoods\");\n  //         exists = true;\n  //       }\n  //     } else if (type === \"DRINK\") {\n  //       if (recipe.idDrink === id) {\n  //         console.log(\"this drink already exists in savedDrinks\");\n  //         exists = true;\n  //       }\n  //     }\n  //   });\n  //   return exists;\n  // }\n\n  const addToSaved = (type, id) => {\n    if (type === \"FOOD\") {\n      saveRecipe(\"FOOD\", foodIdUrl, id);\n    } else if (type === \"DRINK\") {\n      saveRecipe(\"DRINK\", drinkIdUrl, id);\n    }\n  };\n\n  // DELETE FUNCTION FOODS / DRINKS\n  const deleteFromSaved = (type, id) => {\n    if (type === \"FOOD\") {\n      console.log(\"deleting from savedFoods\", id);\n      const newSavedFoods = savedFoods.filter((d, i) => d.idMeal !== id);\n      setSavedFoods(newSavedFoods);\n    } else if (type === \"DRINK\") {\n      console.log(\"deleting from savedDrinks\", id);\n      let newSavedDrinks = savedDrinks.filter((d, i) => d.idDrink !== id);\n      setSavedDrinks(newSavedDrinks);\n    }\n  };\n\n  useEffect(() => {\n    setCategories();\n    foodDrinkApiCall(\"FOOD\", foodUrl, savedFoods);\n    foodDrinkApiCall(\"DRINK\", drinkUrl, savedDrinks);\n  }, []);\n\n  useEffect(() => {\n    foodDrinkApiCall(\"FOOD\", foodUrl, savedFoods);\n  }, [state.foodSearch]);\n\n  useEffect(() => {\n    foodDrinkApiCall(\"DRINK\", drinkUrl, savedDrinks);\n  }, [state.drinkSearch]);\n\n  useEffect(() => {\n    foodDrinkApiCall(\"FOOD\", foodUrl, savedFoods);\n  }, [savedFoods]);\n\n  useEffect(() => {\n    foodDrinkApiCall(\"DRINK\", drinkUrl, savedDrinks);\n  }, [savedDrinks]);\n\n  const recipeData = {\n    width,\n    state,\n    categoryLists,\n    foodResult,\n    drinkResult,\n    isFound,\n    addToSaved,\n    deleteFromSaved,\n    savedFoods,\n    savedDrinks,\n    dispatch\n  };\n\n  return (\n    <DataContext.Provider value={recipeData}>\n      <div className=\"App\">\n        <div className=\"navigation\">\n          <Navigation />\n        </div>\n        <div className=\"spacer\"></div>\n        <main>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/foods\" component={FoodPage} />\n          <Route exact path=\"/foods/:food\" component={FoodDetail} />\n          <Route exact path=\"/cocktails\" component={DrinkPage} />\n          <Route exact path=\"/cocktails/:cocktail\" component={DrinkDetail} />\n          <Route exact path=\"/savedRecipes\" component={SavedPage} />\n          <Redirect to=\"/\" />\n        </main>\n        <Footer />\n      </div>\n    </DataContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}