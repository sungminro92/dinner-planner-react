{"ast":null,"code":"import _asyncToGenerator from \"/Users/sungminro/Downloads/dinner-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/sungminro/Downloads/dinner-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/sungminro/Downloads/dinner-planner/src/Components/Detail/FoodDetail.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/sungminro/Downloads/dinner-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Ingredients from \"../Common/Ingredients\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar FoodDetail = function FoodDetail(props) {\n  _s();\n\n  var foodId = props.match.params.food;\n  var foodIdUrl = \"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\" + foodId;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      food = _useState2[0],\n      setFood = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ingredients = _useState4[0],\n      setIngredients = _useState4[1];\n\n  function foodLookUp() {\n    return _foodLookUp.apply(this, arguments);\n  }\n\n  function _foodLookUp() {\n    _foodLookUp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, json, food, instructions, ingredients, key;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(foodIdUrl);\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return res.json();\n\n            case 5:\n              json = _context.sent;\n              food = json.meals[0];\n              instructions = food.strInstructions.trim();\n              food[\"strInstructions\"] = instructions.split(\".\");\n              food[\"ingredients\"] = [];\n              food[\"measures\"] = [];\n              ingredients = [];\n\n              for (key in food) {\n                if (key.includes(\"strIngredient\") && food[key]) {\n                  ingredients.push(food[key]);\n                }\n\n                if (key.includes(\"strMeasure\") && food[key]) {\n                  food[\"measures\"].push(food[key]);\n                }\n              }\n\n              console.log(food);\n              setFood(food);\n              setIngredients(ingredients);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _foodLookUp.apply(this, arguments);\n  }\n\n  var setInstructions = [];\n\n  if (food.strInstructions) {\n    setInstructions = food.strInstructions.map(function (instruction, index) {\n      if (instruction) {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"detail-instructions\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pacifico-font\",\n            children: [index + 1, \". \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, _this), \" \", instruction, \".\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, _this);\n      }\n    });\n  }\n\n  var displayTags = function displayTags() {\n    var tags;\n\n    if (food.strTags) {\n      var tagsArr = food.strTags.split(\",\");\n      tags = tagsArr.map(function (tag, index) {\n        if (tag) {\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-tags tags-food\",\n            children: tag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 18\n          }, _this);\n        }\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-tags-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-tags tags-food\",\n        children: food.strCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-tags tags-food\",\n        children: food.strArea\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, _this), tags]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, _this);\n  };\n\n  useEffect(function () {\n    foodLookUp();\n  }, []);\n  var arrow = \"< \";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-width recipe-detail-page\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/cocktails\",\n      className: \"float-left\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\" \", arrow, \" Back to Foods\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-title-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: food.strMeal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, _this), displayTags()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-detail-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: food.strMealThumb,\n          alt: food.strMeal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ingredients-container\",\n        children: /*#__PURE__*/_jsxDEV(Ingredients, {\n          detail: true,\n          allMeasures: food.measures,\n          allIngredients: ingredients\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-instructions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Instructions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, _this), setInstructions]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(FoodDetail, \"X8QH9Z/VFADMlm0RWUbONGMkFD0=\");\n\n_c = FoodDetail;\nexport default FoodDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodDetail\");","map":{"version":3,"sources":["/Users/sungminro/Downloads/dinner-planner/src/Components/Detail/FoodDetail.js"],"names":["React","useEffect","useState","Ingredients","Link","FoodDetail","props","foodId","match","params","food","foodIdUrl","setFood","ingredients","setIngredients","foodLookUp","fetch","res","json","meals","instructions","strInstructions","trim","split","key","includes","push","console","log","setInstructions","map","instruction","index","displayTags","tags","strTags","tagsArr","tag","strCategory","strArea","arrow","strMeal","strMealThumb","measures"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Ingredients from \"../Common/Ingredients\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.css\";\n\nconst FoodDetail = (props) => {\n  let foodId = props.match.params.food;\n  const foodIdUrl =\n    \"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\" + foodId;\n  const [food, setFood] = useState({});\n  const [ingredients, setIngredients] = useState([]);\n\n  async function foodLookUp() {\n    let res = await fetch(foodIdUrl);\n    let json = await res.json();\n    let food = json.meals[0];\n    let instructions = food.strInstructions.trim();\n    food[\"strInstructions\"] = instructions.split(\".\");\n    food[\"ingredients\"] = [];\n    food[\"measures\"] = [];\n    let ingredients = [];\n    for (let key in food) {\n      if (key.includes(\"strIngredient\") && food[key]) {\n        ingredients.push(food[key]);\n      }\n      if (key.includes(\"strMeasure\") && food[key]) {\n        food[\"measures\"].push(food[key]);\n      }\n    }\n    console.log(food);\n    setFood(food);\n    setIngredients(ingredients);\n  }\n\n  let setInstructions = [];\n  if (food.strInstructions) {\n    setInstructions = food.strInstructions.map((instruction, index) => {\n      if (instruction) {\n        return (\n          <li key={index} className=\"detail-instructions\">\n            <span className=\"pacifico-font\">{index + 1}. </span> {instruction}.\n          </li>\n        );\n      }\n    });\n  }\n  const displayTags = () => {\n    let tags;\n    if (food.strTags) {\n      let tagsArr = food.strTags.split(\",\");\n      tags = tagsArr.map((tag, index) => {\n        if (tag) {\n          return <p className=\"card-tags tags-food\">{tag}</p>;\n        }\n      });\n    }\n    return (\n      <div className=\"recipe-tags-container\">\n        <p className=\"card-tags tags-food\">{food.strCategory}</p>\n        <p className=\"card-tags tags-food\">{food.strArea}</p>\n        {tags}\n      </div>\n    );\n  };\n  useEffect(() => {\n    foodLookUp();\n  }, []);\n\n  const arrow = \"< \";\n  return (\n    <div className=\"max-width recipe-detail-page\">\n      <Link to=\"/cocktails\" className=\"float-left\">\n        <h3> {arrow} Back to Foods</h3>\n      </Link>\n      <div className=\"recipe-title-container\">\n        <h1>{food.strMeal}</h1>\n        {displayTags()}\n      </div>\n      <div className=\"recipe-detail-container\">\n        <div className=\"recipe-image\">\n          <img src={food.strMealThumb} alt={food.strMeal} />\n        </div>\n        <div className=\"ingredients-container\">\n          <Ingredients\n            detail={true}\n            allMeasures={food.measures}\n            allIngredients={ingredients}\n          />\n        </div>\n      </div>\n      <div className=\"recipe-instructions\">\n        <h1>Instructions</h1>\n        {setInstructions}\n      </div>\n    </div>\n  );\n};\n\nexport default FoodDetail;\n"]},"metadata":{},"sourceType":"module"}