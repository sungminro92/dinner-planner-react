{"ast":null,"code":"import _slicedToArray from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from\"react\";import{DataContext}from\"../../App\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchForm=function SearchForm(_ref){var type=_ref.type,dispatch=_ref.dispatch;var recipeData=useContext(DataContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),placeHolder=_useState4[0],setPlaceHolder=_useState4[1];var _useState5=useState(recipeData.isFound),_useState6=_slicedToArray(_useState5,2),isFound=_useState6[0],setIsFound=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),needInput=_useState10[0],setNeedInput=_useState10[1];useEffect(function(){switch(type){case\"FOOD\":setError(\"no foods found... with \"+input);setIsFound(recipeData.isFound);break;case\"DRINK\":setError(\"no cocktails found... with \"+input);setIsFound(recipeData.isFound);break;default:return;}},[recipeData.isFound]);useEffect(function(){setNeedInput(recipeData.state.needInput);},[recipeData.state]);var handleChange=function handleChange(e){var input=e.target.value;setInput(input);};var handleFoodClick=function handleFoodClick(){dispatch({type:\"FSEARCH\",value:input});setNeedInput(recipeData.needInput);};var handleDrinkClick=function handleDrinkClick(){dispatch({type:\"DSEARCH\",value:input});setNeedInput(recipeData.needInput);};// WHICH PAGE IS IT BEING USED\nuseEffect(function(){setIsFound({food:true,drink:true});if(type===\"FOOD\"){setPlaceHolder(\"search for food recipe... or choose a category below\");}else if(type===\"DRINK\"){setPlaceHolder(\"search for cocktail recipe...or choose category below\");}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-width\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-container\",children:type===\"FOOD\"?/*#__PURE__*/_jsxs(_Fragment,{children:[!isFound.food&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),needInput&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"maybe type something first...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[!isFound.drink&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),needInput&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"maybe type something first...\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-text\",placeholder:placeHolder,value:input,onChange:handleChange,onKeyPress:type===\"FOOD\"?function(){return handleFoodClick();}:function(){return handleDrinkClick();}}),/*#__PURE__*/_jsx(\"span\",{className:\"erase\",onClick:function onClick(){setInput(\"\");},children:\"X\"})]})]});};export default SearchForm;","map":{"version":3,"sources":["/Users/sungminro/Documents/GitHub/dinner-planner-react/src/Components/Common/SearchForm.js"],"names":["React","useEffect","useState","useContext","DataContext","SearchForm","type","dispatch","recipeData","input","setInput","placeHolder","setPlaceHolder","isFound","setIsFound","error","setError","needInput","setNeedInput","state","handleChange","e","target","value","handleFoodClick","handleDrinkClick","food","drink","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { DataContext } from \"../../App\";\nimport \"./style.css\";\n\nconst SearchForm = ({ type, dispatch }) => {\n  const recipeData = useContext(DataContext);\n  const [input, setInput] = useState(\"\");\n  const [placeHolder, setPlaceHolder] = useState(\"\");\n  const [isFound, setIsFound] = useState(recipeData.isFound);\n  const [error, setError] = useState(\"\");\n  const [needInput, setNeedInput] = useState(false);\n\n  useEffect(() => {\n    switch (type) {\n      case \"FOOD\":\n        setError(\"no foods found... with \" + input);\n        setIsFound(recipeData.isFound);\n        break;\n      case \"DRINK\":\n        setError(\"no cocktails found... with \" + input);\n        setIsFound(recipeData.isFound);\n        break;\n      default:\n        return;\n    }\n  }, [recipeData.isFound]);\n\n  useEffect(() => {\n    setNeedInput(recipeData.state.needInput);\n  }, [recipeData.state]);\n\n  const handleChange = (e) => {\n    const input = e.target.value;\n    setInput(input);\n  };\n\n  const handleFoodClick = () => {\n    dispatch({ type: \"FSEARCH\", value: input });\n    setNeedInput(recipeData.needInput);\n  };\n\n  const handleDrinkClick = () => {\n    dispatch({ type: \"DSEARCH\", value: input });\n    setNeedInput(recipeData.needInput);\n  };\n\n  // WHICH PAGE IS IT BEING USED\n  useEffect(() => {\n    setIsFound({\n      food: true,\n      drink: true\n    });\n\n    if (type === \"FOOD\") {\n      setPlaceHolder(\"search for food recipe... or choose a category below\");\n    } else if (type === \"DRINK\") {\n      setPlaceHolder(\"search for cocktail recipe...or choose category below\");\n    }\n  }, []);\n\n  return (\n    <div className=\"max-width\" style={{ textAlign: \"center\" }}>\n      <div className=\"error-container\">\n        {type === \"FOOD\" ? (\n          <>\n            {!isFound.food && <p className=\"error-message\">{error}</p>}\n            {needInput && (\n              <p className=\"error-message\">maybe type something first...</p>\n            )}\n          </>\n        ) : (\n          <>\n            {!isFound.drink && <p className=\"error-message\">{error}</p>}\n            {needInput && (\n              <p className=\"error-message\">maybe type something first...</p>\n            )}\n          </>\n        )}\n      </div>\n      <div className=\"search-box\">\n        <input\n          type=\"text\"\n          className=\"input-text\"\n          placeholder={placeHolder}\n          value={input}\n          onChange={handleChange}\n          onKeyPress={\n            type === \"FOOD\" ? () => handleFoodClick() : () => handleDrinkClick()\n          }\n        />\n        <span\n          className=\"erase\"\n          onClick={() => {\n            setInput(\"\");\n          }}\n        >\n          X\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}