{"ast":null,"code":"import _asyncToGenerator from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import Ingredients from\"../Common/Ingredients\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var DrinkDetail=function DrinkDetail(props){var drinkId=props.match.params.cocktail;var drinkIdUrl=\"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\"+drinkId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),drink=_useState2[0],setDrink=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ingredients=_useState4[0],setIngredients=_useState4[1];function drinkLookUp(){return _drinkLookUp.apply(this,arguments);}function _drinkLookUp(){_drinkLookUp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json,drink,instructions,ingredients,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(drinkIdUrl);case 2:res=_context.sent;_context.next=5;return res.json();case 5:json=_context.sent;drink=json.drinks[0];instructions=drink.strInstructions.trim();drink[\"strInstructions\"]=instructions.split(\".\");drink[\"ingredients\"]=[];drink[\"measures\"]=[];ingredients=[];for(key in drink){if(key.includes(\"strIngredient\")&&drink[key]){ingredients.push(drink[key]);}if(key.includes(\"strMeasure\")&&drink[key]){drink[\"measures\"].push(drink[key]);}}console.log(drink);setDrink(drink);setIngredients(ingredients);case 16:case\"end\":return _context.stop();}}},_callee);}));return _drinkLookUp.apply(this,arguments);}var setInstructions=[];if(drink.strInstructions){setInstructions=drink.strInstructions.map(function(instruction,index){if(instruction){return/*#__PURE__*/_jsxs(\"li\",{className:\"detail-instructions\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pacifico-font\",children:[index+1,\". \"]}),\" \",instruction,\".\"]},index);}});}var displayTags=function displayTags(){var tags;if(drink.strTags){var tagsArr=drink.strTags.split(\",\");tags=tagsArr.map(function(tag,index){if(tag){return/*#__PURE__*/_jsx(\"p\",{className:\"card-tags tags-drink\",children:tag});}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-tags-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-tags tags-drink\",children:drink.strCategory}),/*#__PURE__*/_jsx(\"p\",{className:\"card-tags tags-drink\",children:drink.strGlass}),tags]});};useEffect(function(){drinkLookUp();},[]);var arrow=\"< \";return/*#__PURE__*/_jsxs(\"div\",{className:\"max-width recipe-detail-page\",children:[/*#__PURE__*/_jsx(Link,{to:\"/cocktails\",className:\"float-left\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",arrow,\" Back to Drinks\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-title-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:drink.strDrink}),displayTags()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-detail-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recipe-image\",children:/*#__PURE__*/_jsx(\"img\",{src:drink.strDrinkThumb,alt:drink.strDrink})}),/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-container\",children:/*#__PURE__*/_jsx(Ingredients,{allIngredients:ingredients})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-instructions\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Instructions\"}),setInstructions]})]});};export default DrinkDetail;","map":{"version":3,"sources":["/Users/sungminro/Documents/GitHub/dinner-planner-react/src/Components/Detail/DrinkDetail.js"],"names":["React","useEffect","useState","Ingredients","Link","DrinkDetail","props","drinkId","match","params","cocktail","drinkIdUrl","drink","setDrink","ingredients","setIngredients","drinkLookUp","fetch","res","json","drinks","instructions","strInstructions","trim","split","key","includes","push","console","log","setInstructions","map","instruction","index","displayTags","tags","strTags","tagsArr","tag","strCategory","strGlass","arrow","strDrink","strDrinkThumb"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Ingredients from \"../Common/Ingredients\";\nimport { Link } from \"react-router-dom\";\n\nconst DrinkDetail = (props) => {\n  let drinkId = props.match.params.cocktail;\n  const drinkIdUrl =\n    \"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\" + drinkId;\n\n  const [drink, setDrink] = useState({});\n  const [ingredients, setIngredients] = useState([]);\n\n  async function drinkLookUp() {\n    let res = await fetch(drinkIdUrl);\n    let json = await res.json();\n    let drink = json.drinks[0];\n    let instructions = drink.strInstructions.trim();\n    drink[\"strInstructions\"] = instructions.split(\".\");\n    drink[\"ingredients\"] = [];\n    drink[\"measures\"] = [];\n    let ingredients = [];\n    for (let key in drink) {\n      if (key.includes(\"strIngredient\") && drink[key]) {\n        ingredients.push(drink[key]);\n      }\n      if (key.includes(\"strMeasure\") && drink[key]) {\n        drink[\"measures\"].push(drink[key]);\n      }\n    }\n    console.log(drink);\n    setDrink(drink);\n    setIngredients(ingredients);\n  }\n\n  let setInstructions = [];\n  if (drink.strInstructions) {\n    setInstructions = drink.strInstructions.map((instruction, index) => {\n      if (instruction) {\n        return (\n          <li key={index} className=\"detail-instructions\">\n            <span className=\"pacifico-font\">{index + 1}. </span> {instruction}.\n          </li>\n        );\n      }\n    });\n  }\n  const displayTags = () => {\n    let tags;\n    if (drink.strTags) {\n      let tagsArr = drink.strTags.split(\",\");\n      tags = tagsArr.map((tag, index) => {\n        if (tag) {\n          return <p className=\"card-tags tags-drink\">{tag}</p>;\n        }\n      });\n    }\n    return (\n      <div className=\"recipe-tags-container\">\n        <p className=\"card-tags tags-drink\">{drink.strCategory}</p>\n        <p className=\"card-tags tags-drink\">{drink.strGlass}</p>\n        {tags}\n      </div>\n    );\n  };\n  useEffect(() => {\n    drinkLookUp();\n  }, []);\n  const arrow = \"< \";\n\n  return (\n    <div className=\"max-width recipe-detail-page\">\n      <Link to=\"/cocktails\" className=\"float-left\">\n        <h3> {arrow} Back to Drinks</h3>\n      </Link>\n      <div className=\"recipe-title-container\">\n        <h1>{drink.strDrink}</h1>\n        {displayTags()}\n      </div>\n      <div className=\"recipe-detail-container\">\n        <div className=\"recipe-image\">\n          <img src={drink.strDrinkThumb} alt={drink.strDrink} />\n        </div>\n        <div className=\"ingredients-container\">\n          <Ingredients allIngredients={ingredients} />\n        </div>\n      </div>\n      <div className=\"recipe-instructions\">\n        <h1>Instructions</h1>\n        {setInstructions}\n      </div>\n    </div>\n  );\n};\n\nexport default DrinkDetail;\n"]},"metadata":{},"sourceType":"module"}