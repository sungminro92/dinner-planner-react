{"ast":null,"code":"import _asyncToGenerator from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sungminro/Documents/GitHub/dinner-planner-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useContext,useEffect}from\"react\";import SavedCard from\"./SavedCard\";import Ingredients from\"../Common/Ingredients\";import{DataContext}from\"../../App\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SavedPage=function SavedPage(){var recipeData=useContext(DataContext);var _useState=useState(recipeData.savedFoods),_useState2=_slicedToArray(_useState,2),savedFoods=_useState2[0],setSavedFoods=_useState2[1];var _useState3=useState(recipeData.savedDrinks),_useState4=_slicedToArray(_useState3,2),savedDrinks=_useState4[0],setSavedDrinks=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allIngredients=_useState6[0],setAllIngredients=_useState6[1];function displaySaved(){var ingredients=[];if(recipeData.savedFoods){var foodArr=recipeData.savedFoods.map(function(recipe,index){recipe[\"ingredients\"]=[];recipe[\"measures\"]=[];recipe[\"instructions\"]=recipe.strInstructions.trim().split(\".\");for(var key in recipe){if(key.includes(\"strIngredient\")&&recipe[key]){recipe[\"ingredients\"].push(recipe[key]);ingredients.push(recipe[key]);}if(key.includes(\"strMeasure\")&&recipe[key]){recipe[\"measures\"].push(recipe[key]);}}return{id:recipe.idMeal,name:recipe.strMeal,category:recipe.strCategory,area:recipe.strArea,img:recipe.strMealThumb,tags:recipe.strTags,instructions:recipe.instructions,ingredients:recipe.ingredients,measures:recipe.measures};});setSavedFoods(foodArr);}if(recipeData.savedDrinks){var drinkArr=recipeData.savedDrinks.map(function(recipe,index){recipe[\"ingredients\"]=[];recipe[\"measures\"]=[];recipe[\"instructions\"]=recipe.strInstructions.trim().split(\".\");for(var key in recipe){if(key.includes(\"strIngredient\")&&recipe[key]){recipe[\"ingredients\"].push(recipe[key]);ingredients.push(recipe[key]);}if(key.includes(\"strMeasure\")&&recipe[key]){recipe[\"measures\"].push(recipe[key]);}}return{id:recipe.idDrink,name:recipe.strDrink,category:recipe.strCategory,glass:recipe.strGlass,img:recipe.strDrinkThumb,tags:recipe.strTags,instructions:recipe.instructions,ingredients:recipe.ingredients,measures:recipe.measures};});setSavedDrinks(drinkArr);}setAllIngredients(removeDuplicates(ingredients));}useEffect(function(){displaySaved();},[]);useEffect(function(){displaySaved();},[recipeData.savedFoods,recipeData.savedDrinks]);var foodCards=savedFoods.map(function(recipe,index){return/*#__PURE__*/_jsx(SavedCard,{type:\"FOOD\",recipe:recipe,id:recipe.id});});var drinkCards=savedDrinks.map(function(recipe,index){return/*#__PURE__*/_jsx(SavedCard,{type:\"DRINK\",recipe:recipe,id:recipe.id});});function removeDuplicates(arr){var newArr=arr.filter(function(item,index){return arr.indexOf(item)===index;});return newArr;}var copy=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return navigator.clipboard.writeText(allIngredients);case 2:alert(\"Text copied\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function copy(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"max-width\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"saved-recipes-container\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"saved-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pacifico-font\",children:allIngredients.length}),\" \",\"Shopping Lists\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"recipes-container\",children:savedFoods.length>=1||savedDrinks.length>=1?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-container\",children:/*#__PURE__*/_jsx(Ingredients,{allIngredients:allIngredients})})}):/*#__PURE__*/_jsx(\"p\",{className:\"non-saved\",children:\"Please add any recipes to view shopping lists\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"saved-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pacifico-font\",children:savedFoods.length}),\" Saved Foods\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"recipes-container\",children:savedFoods.length>=1?[foodCards]:/*#__PURE__*/_jsx(\"p\",{className:\"non-saved\",children:\"you don't have any saved foods\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"saved-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pacifico-font\",children:savedDrinks.length}),\" Saved Drinks\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"recipes-container\",children:savedDrinks.length>=1?[drinkCards]:/*#__PURE__*/_jsx(\"p\",{className:\"non-saved\",children:\"you don't have any saved drinks\"})})]})});};export default SavedPage;","map":{"version":3,"sources":["/Users/sungminro/Documents/GitHub/dinner-planner-react/src/Components/Saved/SavedPage.js"],"names":["React","useState","useContext","useEffect","SavedCard","Ingredients","DataContext","SavedPage","recipeData","savedFoods","setSavedFoods","savedDrinks","setSavedDrinks","allIngredients","setAllIngredients","displaySaved","ingredients","foodArr","map","recipe","index","strInstructions","trim","split","key","includes","push","id","idMeal","name","strMeal","category","strCategory","area","strArea","img","strMealThumb","tags","strTags","instructions","measures","drinkArr","idDrink","strDrink","glass","strGlass","strDrinkThumb","removeDuplicates","foodCards","drinkCards","arr","newArr","filter","item","indexOf","copy","navigator","clipboard","writeText","alert","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport SavedCard from \"./SavedCard\";\nimport Ingredients from \"../Common/Ingredients\";\nimport { DataContext } from \"../../App\";\n\nimport \"./style.css\";\n\nconst SavedPage = () => {\n  const recipeData = useContext(DataContext);\n  const [savedFoods, setSavedFoods] = useState(recipeData.savedFoods);\n  const [savedDrinks, setSavedDrinks] = useState(recipeData.savedDrinks);\n  const [allIngredients, setAllIngredients] = useState([]);\n\n  function displaySaved() {\n    let ingredients = [];\n    if (recipeData.savedFoods) {\n      let foodArr = recipeData.savedFoods.map((recipe, index) => {\n        recipe[\"ingredients\"] = [];\n        recipe[\"measures\"] = [];\n        recipe[\"instructions\"] = recipe.strInstructions.trim().split(\".\");\n        for (let key in recipe) {\n          if (key.includes(\"strIngredient\") && recipe[key]) {\n            recipe[\"ingredients\"].push(recipe[key]);\n            ingredients.push(recipe[key]);\n          }\n          if (key.includes(\"strMeasure\") && recipe[key]) {\n            recipe[\"measures\"].push(recipe[key]);\n          }\n        }\n        return {\n          id: recipe.idMeal,\n          name: recipe.strMeal,\n          category: recipe.strCategory,\n          area: recipe.strArea,\n          img: recipe.strMealThumb,\n          tags: recipe.strTags,\n          instructions: recipe.instructions,\n          ingredients: recipe.ingredients,\n          measures: recipe.measures\n        };\n      });\n      setSavedFoods(foodArr);\n    }\n\n    if (recipeData.savedDrinks) {\n      let drinkArr = recipeData.savedDrinks.map((recipe, index) => {\n        recipe[\"ingredients\"] = [];\n        recipe[\"measures\"] = [];\n        recipe[\"instructions\"] = recipe.strInstructions.trim().split(\".\");\n        for (let key in recipe) {\n          if (key.includes(\"strIngredient\") && recipe[key]) {\n            recipe[\"ingredients\"].push(recipe[key]);\n            ingredients.push(recipe[key]);\n          }\n          if (key.includes(\"strMeasure\") && recipe[key]) {\n            recipe[\"measures\"].push(recipe[key]);\n          }\n        }\n        return {\n          id: recipe.idDrink,\n          name: recipe.strDrink,\n          category: recipe.strCategory,\n          glass: recipe.strGlass,\n          img: recipe.strDrinkThumb,\n          tags: recipe.strTags,\n          instructions: recipe.instructions,\n          ingredients: recipe.ingredients,\n          measures: recipe.measures\n        };\n      });\n      setSavedDrinks(drinkArr);\n    }\n\n    setAllIngredients(removeDuplicates(ingredients));\n  }\n\n  useEffect(() => {\n    displaySaved();\n  }, []);\n\n  useEffect(() => {\n    displaySaved();\n  }, [recipeData.savedFoods, recipeData.savedDrinks]);\n\n  let foodCards = savedFoods.map((recipe, index) => {\n    return <SavedCard type=\"FOOD\" recipe={recipe} id={recipe.id} />;\n  });\n\n  let drinkCards = savedDrinks.map((recipe, index) => {\n    return <SavedCard type=\"DRINK\" recipe={recipe} id={recipe.id} />;\n  });\n\n  function removeDuplicates(arr) {\n    let newArr = arr.filter((item, index) => arr.indexOf(item) === index);\n    return newArr;\n  }\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(allIngredients);\n    alert(\"Text copied\");\n  };\n\n  return (\n    <div className=\"max-width\">\n      <div className=\"saved-recipes-container\">\n        <p className=\"saved-title\">\n          <span className=\"pacifico-font\">{allIngredients.length}</span>{\" \"}\n          Shopping Lists\n        </p>\n        <div className=\"recipes-container\">\n          {savedFoods.length >= 1 || savedDrinks.length >= 1 ? (\n            <>\n              <div className=\"ingredients-container\">\n                <Ingredients allIngredients={allIngredients} />\n              </div>\n            </>\n          ) : (\n            <p className=\"non-saved\">\n              Please add any recipes to view shopping lists\n            </p>\n          )}\n        </div>\n        <p className=\"saved-title\">\n          <span className=\"pacifico-font\">{savedFoods.length}</span> Saved Foods\n        </p>\n        <div className=\"recipes-container\">\n          {savedFoods.length >= 1 ? (\n            [foodCards]\n          ) : (\n            <p className=\"non-saved\">you don't have any saved foods</p>\n          )}\n        </div>\n\n        <p className=\"saved-title\">\n          <span className=\"pacifico-font\">{savedDrinks.length}</span> Saved\n          Drinks\n        </p>\n        <div className=\"recipes-container\">\n          {savedDrinks.length >= 1 ? (\n            [drinkCards]\n          ) : (\n            <p className=\"non-saved\">you don't have any saved drinks</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SavedPage;\n"]},"metadata":{},"sourceType":"module"}